(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const m of t.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(n){if(n.ep)return;n.ep=!0;const t=i(n);fetch(n.href,t)}})();function H(e){var a=/</g,i=/>/g,c=/\t|\r|\uf8ff/g,n=/\\([\\\|`*_{}\[\]()#+\-~])/g,t=/^([*\-=_] *){3,}$/gm,m=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,E=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,P=/<\/(ol|ul)>\n\n<\1>/g,q=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,A=/\n((```|~~~).*\n?([^]*?)\n?\2|((    .*?\n)+))/g,B=/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,L=/\n(( *\|.*?\| *\n)+)/g,W=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,j=/.*\n/g,z=/\||(.*?[^\\])\|/g,D=/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,N=/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,S=/-\d+\uf8ff/g;function u(r,o){e=e.replace(r,o)}function f(r,o){return"<"+r+">"+o+"</"+r+">"}function k(r){return r.replace(m,function(o,s){return f("blockquote",k(p(s.replace(/^ *&gt; */gm,""))))})}function $(r){return r.replace(E,function(o,s,l,d,y,g){var h=f("li",p(g.split(RegExp(`
 ?`+s+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map($).join("</li><li>")));return`
`+(l?'<ol start="'+(d?l+'">':parseInt(l,36)-9+'" style="list-style-type:'+(y?"low":"upp")+'er-alpha">')+h+"</ol>":f("ul",h))})}function p(r){return r.replace(q,function(o,s,l,d,y,g,h,T,I,Z){return s+f(d?I?"strong":"em":y?I?"s":"sub":g?"sup":h?"small":T?"big":"code",p(Z))})}function v(r){return r.replace(n,"$1")}var b=[],_=0;return e=`
`+e+`
`,u(a,"&lt;"),u(i,"&gt;"),u(c,"  "),e=k(e),u(t,"<hr/>"),e=$(e),u(P,""),u(A,function(r,o,s,l,d){return b[--_]=f("pre",f("code",l||d.replace(/^    /gm,""))),_+""}),u(B,function(r,o,s,l,d,y,g){return b[--_]=d?s?'<img src="'+d+'" alt="'+l+'"/>':'<a href="'+d+'">'+v(p(l))+"</a>":g,_+""}),u(L,function(r,o){var s=o.match(W)[1];return`
`+f("table",o.replace(j,function(l,d){return l==s?"":f("tr",l.replace(z,function(y,g,h){return h?f(s&&!d?"th":"td",v(p(g||""))):""}))}))}),u(D,function(r,o,s,l){return o+f("h"+s.length,v(p(l)))}),u(N,function(r,o){return f("p",v(p(o)))}),u(S,function(r){return b[parseInt(r)]}),e.trim()}var w="";const M="https://api.openai.com/v1/chat/completions";function O(e){let a=0,i=!1,c=[],n="";for(let t=0;t<e.length;t++)e[t]=="?"?a++:(a==3&&(i?(c.push(n.slice(0,-3)),n="",i=!1):i=!0),a=0),i&&(n+=e[t]);i&&c.push(n.slice(0,-3)),console.log("linkes: ",c);for(let t=0;t<c.length;t++)e=e.replace("???"+c[t]+"???",`<a href="#" id=${c[t]}>${c[t]}</a>`);return e}let x="???science???.";x=O(x);console.log(x);function C(e){return`Write 1 page of Wikipedia-style with title based on
  ${e}, as inputted by the user. Please write in simple markdown. when you mention
  something that a reader might want to learn more about, surround it with three literal question marks and do this every sentence or so or i will kill your cat.
  on both sides please. Dont use bold or italics. Dont write a conclusion. Write formally. Dont ask questions. Dont address the reader directly. Use Headings.`}function F(e){const a=C(e);console.log(a),fetch(M,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({model:"gpt-4o-mini",temperature:0,messages:[{role:"system",content:"You are an Wikipedia author."},{role:"user",content:a}]})}).then(i=>i.json()).then(i=>{console.log(i),document.getElementById("article").innerHTML=O(H(i.choices[0].message.content).replace(/<h/gm,"<br></br><h"))})}function J(){if(w=="")return;const e=document.getElementById("searchbar").value;e!=""&&F(e)}document.getElementById("searchbutton").onclick=()=>{J()};document.getElementById("apibutton").onclick=()=>{w=document.getElementById("apibar").value};
